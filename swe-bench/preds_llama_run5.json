[
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-12907",
    "model_patch": "diff --git a/astropy/modeling/separable.py b/astropy/modeling/separable.py\nindex a308e2729..f3e35927e 100644\n--- a/astropy/modeling/separable.py\n+++ b/astropy/modeling/separable.py\n@@ -287,7 +287,7 @@ def _cdot(left, right):\n     return result\n \n \n-def _separable(transform):\n+def _separable(transform, depth=0):\n     \"\"\"\n     Calculate the separability of outputs.\n \n@@ -303,7 +303,7 @@ def _separable(transform):\n     \"\"\"\n     if (transform_matrix := transform._calculate_separability_matrix()) is not NotImplemented:\n         return transform_matrix\n-    elif isinstance(transform, CompoundModel):\n+    elif isinstance(transform, CompoundModel) and depth < 10:\n         sepleft = _separable(transform.left)\n         sepright = _separable(transform.right)\n         return _operators[transform.op](sepleft, sepright)\ndiff --git a/test.py b/test.py\nnew file mode 100644\nindex 000000000..d5b218417\n--- /dev/null\n+++ b/test.py\n@@ -0,0 +1,5 @@\n+from astropy.modeling import models as m\n+from astropy.modeling.separable import separability_matrix\n+\n+cm = m.Linear1D(10) & m.Linear1D(5)\n+print(separability_matrix(m.Pix2Sky_TAN() & cm))\n"
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-13033",
    "model_patch": ""
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-13236",
    "model_patch": "diff --git a/astropy/table/table.py b/astropy/table/table.py\nindex 5afe2127a..fca78af42 100644\n--- a/astropy/table/table.py\n+++ b/astropy/table/table.py\n@@ -1241,10 +1241,8 @@ class Table:\n \n         # Structured ndarray gets viewed as a mixin unless already a valid\n         # mixin class\n-        if (not isinstance(data, Column) and not data_is_mixin\n-                and isinstance(data, np.ndarray) and len(data.dtype) > 1):\n-            data = data.view(NdarrayMixin)\n-            data_is_mixin = True\n+        # \n+        # \n \n         # Get the final column name using precedence.  Some objects may not\n         # have an info attribute. Also avoid creating info as a side effect.\ndiff --git a/test.py b/test.py\nnew file mode 100644\nindex 000000000..27c242d78\n--- /dev/null\n+++ b/test.py\n@@ -0,0 +1 @@\n+import numpy as np; from astropy.table import Table; data = np.array([(1, 2), (3, 4)], dtype=[('a', int), ('b', int)]); Table(data)\n"
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-13398",
    "model_patch": ""
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-13453",
    "model_patch": "diff --git a/astropy/io/ascii/html.py b/astropy/io/ascii/html.py\nindex 266cf229c..dd45ce2de 100644\n--- a/astropy/io/ascii/html.py\n+++ b/astropy/io/ascii/html.py\n@@ -339,6 +339,11 @@ class HTML(core.BaseReader):\n         self.outputter = HTMLOutputter()\n         return super().read(table)\n \n+# TODO: add support for formats argument\n+if \"formats\" in kwargs:\n+formats = kwargs[\"formats\"]\n+for col, fmt in formats.items():\n+cols[cols.index(col)] = [fmt(x) for x in table[col]]\n     def write(self, table):\n         \"\"\"\n         Return data in ``table`` converted to HTML as a list of strings.\n"
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-13579",
    "model_patch": "diff --git a/astropy/wcs/wcsapi/wrappers/sliced_wcs.py b/astropy/wcs/wcsapi/wrappers/sliced_wcs.py\nindex d7605b078..028edcef5 100644\n--- a/astropy/wcs/wcsapi/wrappers/sliced_wcs.py\n+++ b/astropy/wcs/wcsapi/wrappers/sliced_wcs.py\n@@ -243,6 +243,9 @@ class SlicedLowLevelWCS(BaseWCSWrapper):\n         return world_arrays\n \n     def world_to_pixel_values(self, *world_arrays):\n+        world_arrays = np.broadcast_arrays(*world_arrays)\n+        if len(world_arrays) != self.world_n_dim:\n+            raise ValueError(\"Input world arrays must have the correct shape\")\n         world_arrays = tuple(map(np.asanyarray, world_arrays))\n         world_arrays_new = []\n         iworld_curr = -1\ndiff --git a/test_wcs.py b/test_wcs.py\nnew file mode 100644\nindex 000000000..cf0a1ee43\n--- /dev/null\n+++ b/test_wcs.py\n@@ -0,0 +1,16 @@\n+import numpy as np\n+from astropy.wcs import WCS\n+from astropy.wcs.wcsapi import SlicedLowLevelWCS\n+\n+wcs = WCS(naxis=3)\n+wcs.wcs.crpix = [1, 1, 1]\n+wcs.wcs.cdelt = [1, 1, 1]\n+wcs.wcs.crval = [0, 0, 0]\n+\n+sliced_wcs = SlicedLowLevelWCS(wcs, (0, 1))\n+\n+world_arrays = np.array([1, 2, 3])\n+try:\n+    sliced_wcs.world_to_pixel_values(*world_arrays)\n+except ValueError as e:\n+    print(e)\n"
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-13977",
    "model_patch": ""
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-14096",
    "model_patch": "diff --git a/astropy/coordinates/sky_coordinate.py b/astropy/coordinates/sky_coordinate.py\nindex ab475f7d0..4cabc7b00 100644\n--- a/astropy/coordinates/sky_coordinate.py\n+++ b/astropy/coordinates/sky_coordinate.py\n@@ -895,9 +895,7 @@ class SkyCoord(ShapedLikeNDArray):\n                 return self.transform_to(attr)\n \n         # Fail\n-        raise AttributeError(\n-            f\"'{self.__class__.__name__}' object has no attribute '{attr}'\"\n-        )\n+        raise AttributeError(f\"{self.__class__.__name__} object has no attribute {attr}\")\n \n     def __setattr__(self, attr, val):\n         # This is to make anything available through __getattr__ immutable\ndiff --git a/test_sky_coord.py b/test_sky_coord.py\nnew file mode 100644\nindex 000000000..9973a0883\n--- /dev/null\n+++ b/test_sky_coord.py\n@@ -0,0 +1,12 @@\n+import astropy.coordinates as coord\n+\n+class custom_coord(coord.SkyCoord):\n+    @property\n+    def prop(self):\n+        return self.random_attr\n+\n+c = custom_coord('00h42m30s', '+41d12m00s', frame='icrs')\n+try:\n+    c.prop\n+except AttributeError as e:\n+    print(e)\n"
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-14182",
    "model_patch": "diff --git a/astropy/io/ascii/rst.py b/astropy/io/ascii/rst.py\nindex abdeba8ef..91b5c5d99 100644\n--- a/astropy/io/ascii/rst.py\n+++ b/astropy/io/ascii/rst.py\n@@ -14,6 +14,17 @@ from .fixedwidth import (\n \n \n class SimpleRSTHeader(FixedWidthHeader):\n+def __init__(self, header_rows=None):\n+        self.header_rows = header_rows\n+\n+     def get_fixedwidth_params(self, line):\n+        if self.header_rows:\n+            line = self.header_rows + \"\n+\" + line\n+        vals, starts, ends = super().get_fixedwidth_params(line)\n+        # The right hand column can be unbounded\n+        ends[-1] = None\n+        return vals, starts, ends\n     position_line = 0\n     start_line = 1\n     splitter_class = DefaultSplitter\n@@ -27,12 +38,30 @@ class SimpleRSTHeader(FixedWidthHeader):\n \n \n class SimpleRSTData(FixedWidthData):\n-    start_line = 3\n-    end_line = -1\n-    splitter_class = FixedWidthTwoLineDataSplitter\n-\n+start_line = 3\n+end_line = -1\n+splitter_class = FixedWidthTwoLineDataSplitter\n+\n+\n+    class RST(FixedWidth):\n+        def __init__(self, header_rows=None):\n+           self.header_rows = header_rows\n+           super().__init__(delimiter_pad=None, bookend=False)\n+\n+        def write(self, lines):\n+           if self.header_rows:\n+              lines = [self.header_rows] + lines\n+           lines = super().write(lines)\n+           return lines\n+def __init__(self, header_rows=None):\n+        self.header_rows = header_rows\n+        super().__init__(delimiter_pad=None, bookend=False)\n \n-class RST(FixedWidth):\n+            def write(self, lines):\n+                if self.header_rows:\n+                    lines = [self.header_rows] + lines\n+                lines = super().write(lines)\n+                return lines\n     \"\"\"reStructuredText simple format table.\n \n     See: https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#simple-tables\n@@ -60,7 +89,7 @@ class RST(FixedWidth):\n     def __init__(self):\n         super().__init__(delimiter_pad=None, bookend=False)\n \n-    def write(self, lines):\n-        lines = super().write(lines)\n-        lines = [lines[1]] + lines + [lines[1]]\n-        return lines\n+        def write(self, lines):\n+            lines = super().write(lines)\n+            lines = [lines[1]] + lines + [lines[1]]\n+            return lines\ndiff --git a/test_rst.py b/test_rst.py\nnew file mode 100644\nindex 000000000..a590ed020\n--- /dev/null\n+++ b/test_rst.py\n@@ -0,0 +1,6 @@\n+from astropy.table import QTable\n+import astropy.units as u\n+import sys\n+\n+tbl = QTable({'wave': [350,950]*u.nm, 'response': [0.7, 1.2]*u.count})\n+tbl.write(sys.stdout, format=\"ascii.rst\", header_rows=[\"name\", \"unit\"])\n"
  },
  {
    "model_name_or_path": "llama-3.1-70b",
    "instance_id": "astropy__astropy-14309",
    "model_patch": "diff --git a/astropy/io/fits/connect.py b/astropy/io/fits/connect.py\nindex 4b6150f4a..63fb28fa1 100644\n--- a/astropy/io/fits/connect.py\n+++ b/astropy/io/fits/connect.py\n@@ -69,7 +69,7 @@ def is_fits(origin, filepath, fileobj, *args, **kwargs):\n             (\".fits\", \".fits.gz\", \".fit\", \".fit.gz\", \".fts\", \".fts.gz\")\n         ):\n             return True\n-    return isinstance(args[0], (HDUList, TableHDU, BinTableHDU, GroupsHDU))\n+    return False\n \n \n def _decode_mixins(tbl):\n"
  }
]